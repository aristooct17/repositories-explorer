{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/aristooktobrian/Documents/My%20Files/Repositories/repositories-explorer/src/app/GitHubUserSearch.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\n\ninterface Repository {\n  id: number;\n  name: string;\n  description: string;\n  stargazers_count: number;\n}\n\ninterface UserResult {\n  login: string;\n}\n\nconst GitHubUserSearch: React.FC = () => {\n  const [query, setQuery] = useState(\"\");\n  const [users, setUsers] = useState<UserResult[]>([]);\n  const [repos, setRepos] = useState<Record<string, Repository[]>>({});\n  const [expandedUser, setExpandedUser] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const searchUsers = async () => {\n    if (!query) return;\n    setLoading(true);\n    setError(\"\");\n    try {\n      const response = await axios.get(\n        `https://api.github.com/search/users?q=${query}`\n      );\n      setUsers(response.data.items);\n    } catch (err) {\n      setError(\"Failed to fetch users\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchRepos = async (username: string) => {\n    if (repos[username]) return;\n    try {\n      const response = await axios.get(\n        `https://api.github.com/users/${username}/repos`\n      );\n      setRepos((prev) => ({ ...prev, [username]: response.data }));\n    } catch (err) {\n      setError(`Failed to fetch repos for ${username}`);\n    }\n  };\n\n  const handleAccordionChange = (username: string) => {\n    if (expandedUser === username) {\n      setExpandedUser(null);\n    } else {\n      setExpandedUser(username);\n      fetchRepos(username);\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto p-4 space-y-4\">\n      <input\n        type=\"text\"\n        placeholder=\"Enter username\"\n        value={query}\n        onChange={(e) => setQuery(e.target.value)}\n        onKeyDown={(e) => e.key === \"Enter\" && searchUsers()}\n        className=\"w-full border border-gray-300 rounded px-3 py-2 bg-gray-100 text-black\"\n      />\n      <button\n        onClick={searchUsers}\n        disabled={loading}\n        className=\"w-full bg-blue-500 text-white py-2 rounded disabled:opacity-50\"\n      >\n        {loading ? \"Searching...\" : \"Search\"}\n      </button>\n\n      {error && <p className=\"text-red-500\">{error}</p>}\n\n      {users.length > 0 && (\n        <p className=\"text-black\">\n          Showing users for <strong>\"{query}\"</strong>\n        </p>\n      )}\n\n      <div className=\"space-y-2\">\n        {users.map((user) => (\n          <div key={user.login} className=\"border rounded\">\n            <button\n              onClick={() => handleAccordionChange(user.login)}\n              className=\"w-full px-4 py-2 bg-gray-100 text-black text-left flex justify-between items-center\"\n            >\n              {user.login}\n              <span>{expandedUser === user.login ? \"▲\" : \"▼\"}</span>\n            </button>\n            {expandedUser === user.login && (\n              <div className=\"space-y-2 p-2\">\n                {repos[user.login]?.length > 0 ? (\n                  repos[user.login].map((repo) => (\n                    <div\n                      key={repo.id}\n                      className=\"bg-gray-100 p-4 rounded flex justify-between items-center\"\n                    >\n                      <div>\n                        <p className=\"font-bold text-black\">{repo.name}</p>\n                        <p className=\"text-sm text-black\">\n                          {repo.description || \"No description\"}\n                        </p>\n                      </div>\n                      <div className=\"text-right\">\n                        <p className=\"font-bold text-black\">{repo.stargazers_count}</p>\n                        <span>⭐</span>\n                      </div>\n                    </div>\n                  ))\n                ) : (\n                  <p className=\"text-black\">Loading repositories...</p>\n                )}\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default GitHubUserSearch;\n"],"names":[],"mappings":"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","debugId":null}}]
}